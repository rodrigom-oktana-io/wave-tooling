{
    "Join_CaseHistory_OldOwner":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"compute_CaseHistory_OldNewStatus",
            "left_key":[
                "OldOwner"
            ],
            "right_select":[
                "CallCenterId",
                "Name",
                "Id",
                "Role.Name",
                "Type"
            ],
            "right":"Join_CaseHistory_Queue_User_UserRole",
            "relationship":"OldOwner"
        }
    },
    "Join_ServiceCaseServiceTask":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "WhatId"
            ],
            "left":"Join_CaseAccount",
            "left_key":[
                "Id"
            ],
            "right_select":[
                "ActivityLastModifiedDate"
            ],
            "right":"Compute_Extract_Task",
            "relationship":"Task"
        }
    },
    "Extract_Contact":{
        "action":"sfdcDigest",
        "parameters":{
            "fields":[
                {
                    "name":"Name"
                },
                {
                    "name":"Id"
                }
            ],
            "object":"Contact"
        }
    },
    "Extract_Opportunity":{
        "action":"sfdcDigest",
        "parameters":{
            "SFDCtoken":"SFDCtoken",
            "fields":[
                {
                    "name":"Id"
                },
                {
                    "name":"AccountId"
                },
                {
                    "name":"OwnerId"
                },
                {
                    "name":"Name"
                },
                {
                    "defaultValue":"N/A",
                    "name":"StageName"
                },
                {
                    "defaultValue":"N/A",
                    "name":"LeadSource"
                },
                {
                    "name":"IsWon"
                },
                {
                    "name":"IsClosed"
                },
                {
                    "defaultValue":"N/A",
                    "name":"ForecastCategory"
                },
                {
                    "defaultValue":"N/A",
                    "name":"ForecastCategoryName"
                },
                {
                    "fiscalMonthOffset":0,
                    "firstDayOfWeek":"0",
                    "name":"CreatedDate",
                    "isYearEndFiscalYear":false
                },
                {
                    "fiscalMonthOffset":0,
                    "firstDayOfWeek":"0",
                    "name":"CloseDate",
                    "isYearEndFiscalYear":false
                },
                {
                    "name":"Amount"
                },
                {
                    "name":"CreatedById"
                },
                {
                    "name":"RecordTypeId"
                }
            ],
            "object":"Opportunity"
        }
    },
    "Join_LiveChatTranscript_Case_NoCSAT":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"Join_LiveChatTranscript_User",
            "left_key":[
                "CaseId"
            ],
            "right_select":[
                "Origin",
                "Reason",
                "Type",
                "IsClosed",
                "ClosedDate",
                "CreatedDate",
                "Type_of_Support__c",
                "Status",
                "Product_Family_KB__c",
                "Priority",
                "CaseNumber",
                "Account.Name",
                "Account.Id",
                "Duration__c",
                "Role.Name",
                "CurrentDate",
                "RecordType.Name"
            ],
            "right":"Join_CaseAccountContactUserUserRoleRecordType",
            "relationship":"Case"
        }
    },
    "Extract_Knowledge_kav_online":{
        "action":"sfdcDigest",
        "parameters":{
            "fields":[
                {
                    "name":"Id"
                },
                {
                    "name":"ArticleNumber__c"
                },
                {
                    "name":"CreatedById"
                },
                {
                    "fiscalMonthOffset":0,
                    "firstDayOfWeek":"0",
                    "name":"CreatedDate__c",
                    "isYearEndFiscalYear":false
                },
                {
                    "name":"OwnerId__c"
                },
                {
                    "name":"PublishStatus__c"
                },
                {
                    "name":"IsLatestVersion__c"
                },
                {
                    "name":"IsVisibleInApp__c"
                },
                {
                    "name":"IsVisibleInCsp__c"
                },
                {
                    "name":"IsVisibleInPkb__c"
                },
                {
                    "name":"IsVisibleInPrm__c"
                },
                {
                    "name":"KnowledgeArticleId__c"
                },
                {
                    "name":"Title__c"
                },
                {
                    "name":"VersionNumber__c",
                    "type":"Text"
                }
            ],
            "complexFilterConditions":"Language__c = 'en_US' and PublishStatus__c = 'Online'",
            "object":"KCSArticle_kav__c"
        }
    },
    "rename_Knowledge_kav_online":{
        "action":"computeExpression",
        "parameters":{
            "mergeWithSource":true,
            "computedFields":[

                {
                    "name":"ArticleNumber",
                    "type":"Text",
                    "saqlExpression":"ArticleNumber__c",
                    "default":""
                },
                {
                    "name":"PublishStatus",
                    "type":"Text",
                    "saqlExpression":"PublishStatus__c",
                    "default":""
                },
                {
                    "name":"CreatedDate",
                    "type":"Date",
                    "label":"CreatedDate",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(CreatedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                },
                {
                    "name":"IsLatestVersion",
                    "type":"Text",
                    "saqlExpression":"IsLatestVersion__c",
                    "default":""
                },
                {
                    "name":"IsVisibleInApp",
                    "type":"Text",
                    "saqlExpression":"IsVisibleInApp__c",
                    "default":""
                },
                {
                    "name":"IsVisibleInCsp",
                    "type":"Text",
                    "saqlExpression":"IsVisibleInCsp__c",
                    "default":""
                },
                {
                    "name":"IsVisibleInPkb",
                    "type":"Text",
                    "saqlExpression":"IsVisibleInPkb__c",
                    "default":""
                },
                {
                    "name":"IsVisibleInPrm",
                    "type":"Text",
                    "saqlExpression":"IsVisibleInPrm__c",
                    "default":""
                },
                {
                    "name":"KnowledgeArticleId",
                    "type":"Text",
                    "saqlExpression":"IsVisibleInPrm__c",
                    "default":""
                },
                {
                    "name":"Title",
                    "type":"Text",
                    "saqlExpression":"Title__c",
                    "default":""
                },
                {
                    "name":"VersionNumber",
                    "type":"Text",
                    "saqlExpression":"VersionNumber__c",
                    "default":""
                }
            ],
            "source":"Extract_Knowledge_kav_online"
        }
    },
    "drop_custom_rename_Knowledge_kav_online":{
        "action":"sliceDataset",
        "parameters":{
            "source":"rename_Knowledge_kav_online",
            "mode":"drop",
            "fields":[
                {
                    "name":"ArticleNumber__c"
                },
                {
                    "name":"PublishStatus__c"
                },
                {
                    "name":"IsLatestVersion__c"
                },
                {
                    "name":"IsVisibleInApp__c"
                },
                {
                    "name":"IsVisibleInCsp__c"
                },
                {
                    "name":"IsVisibleInPkb__c"
                },
                {
                    "name":"IsVisibleInPrm__c"
                },
                {
                    "name":"KnowledgeArticleId__c"
                },
                {
                    "name":"Title__c"
                },
                {
                    "name":"VersionNumber__c",
                    "type":"Text"
                }
            ]
        }
    },

    "Extract_ServiceChannel":{
        "action":"sfdcDigest",
        "parameters":{
            "fields":[
                {
                    "name":"DeveloperName"
                },
                {
                    "name":"MasterLabel"
                },
                {
                    "name":"Id"
                }
            ],
            "object":"ServiceChannel"
        }
    },
    "Handle_Only_Activities":{
        "action":"computeExpression",
        "parameters":{
            "source":"Join_ActivityOwner_Case",
            "computedFields":[
                {
                    "name":"IsActivity",
                    "saqlExpression":"case when 'Case.Id' is null then \"No\" else \"Yes\" end",
                    "label":"Is Activity",
                    "type":"Text"
                },
                {
                    "name":"IsCall",
                    "saqlExpression":"case when CallDurationInSeconds > 0 then \"Yes\" else \"No\" end",
                    "label":"Is Call",
                    "type":"Text"
                },
                {
                    "name":"ActivityIsClosed",
                    "saqlExpression":"case when ('Type' == \"Task\" && 'IsClosed' == \"true\") ||  ('Case.CurrentDate_sec_epoch' > 'EndDateTime_sec_epoch') then \"Completed\" when ('Type' == \"Task\" && 'IsClosed' == \"false\") then \"Open\" else \"Open\" end",
                    "label":"Activity Is Closed",
                    "type":"Text"
                }
            ],
            "mergeWithSource":true
        }
    },
    "Join_CaseAccountContactUserUserRoleCaseArticle":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "CaseId"
            ],
            "left":"Join_CaseAccountContactUserUserRole",
            "left_key":[
                "Id"
            ],
            "right_select":[
                "ArticleVersionNumber",
                "CaseId",
                "CreatedDate",
                "User.Name"
            ],
            "right":"Join_CaseArticleKnowledge_User",
            "relationship":"CaseArticle"
        }
    },
    "Join_CaseAccountContactUserUserRoleRecordType":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"Handle_Null_Attached_Articles",
            "left_key":[
                "RecordTypeId"
            ],
            "right_select":[
                "Name"
            ],
            "right":"Extract_RecordTypes",
            "relationship":"RecordType"
        }
    },
    "Join_ServicePresenceUser":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"drop_custom_rename_UserServicePresence",
            "left_key":[
                "UserId"
            ],
            "right_select":[
                "Name"
            ],
            "right":"Extract_User",
            "relationship":"UserId"
        }
    },
    "Extract_Case":{
        "action":"sfdcDigest",
        "parameters":{
            "fields":[
                {
                    "name":"CSAT__c",
                    "type":"Text"
                },
                {
                    "name":"Duration__c"
                },
                {
                    "name":"AccountId"
                },
                {
                    "name":"ContactId"
                },
                {
                    "name":"OwnerId"
                },
                {
                    "name":"Id"
                },
                {
                    "defaultValue":"N/A",
                    "name":"Origin"
                },
                {
                    "defaultValue":"N/A",
                    "name":"Reason"
                },
                {
                    "defaultValue":"N/A",
                    "name":"Type"
                },
                {
                    "name":"IsClosed"
                },
                {
                    "fiscalMonthOffset":0,
                    "firstDayOfWeek":"0",
                    "name":"ClosedDate",
                    "isYearEndFiscalYear":false
                },
                {
                    "fiscalMonthOffset":0,
                    "firstDayOfWeek":"0",
                    "name":"CreatedDate",
                    "isYearEndFiscalYear":false
                },
                {
                    "fiscalMonthOffset":0,
                    "firstDayOfWeek":"0",
                    "name":"LastModifiedDate",
                    "isYearEndFiscalYear":false
                },
                {
                    "name":"IsEscalated"
                },
                {
                    "name":"First_Contact_Close__c"
                },
                {
                    "defaultValue":"N/A",
                    "name":"Type_of_Support__c"
                },
                {
                    "defaultValue":"N/A",
                    "name":"Status"
                },
                {
                    "name":"MilestoneStatus"
                },
                {
                    "defaultValue":"N/A",
                    "name":"Product_Family_KB__c"
                },
                {
                    "defaultValue":"N/A",
                    "name":"Priority"
                },
                {
                    "name":"CaseNumber"
                },
                {
                    "defaultValue":"N/A",
                    "name":"RecordTypeId"
                },
                {
                    "name":"Response_Time_mins__c"
                }
            ],
            "object":"Case"
        }
    },
    "Join_CaseAccountContactUser":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"Join_CaseAccountContact",
            "left_key":[
                "OwnerId"
            ],
            "right_select":[
                "CallCenterId",
                "Name",
                "Id",
                "UserRoleId",
                "Type"
            ],
            "right":"Append_Queue_User",
            "relationship":"Owner"
        }
    },
    "Case_CSAT_Mea":{
        "action":"dim2mea",
        "parameters":{
            "measure":"CSAT",
            "measureDefault":"-999",
            "source":"compute_CalculatedCaseDuration",
            "dimension":"CSAT__c",
            "measureType":"long"
        }
    },
    "Join_CaseHistory_NewOwner":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"Join_CaseHistory_OldOwner",
            "left_key":[
                "NewOwner"
            ],
            "right_select":[
                "CallCenterId",
                "Name",
                "Id",
                "Role.Name",
                "Type"
            ],
            "right":"Join_CaseHistory_Queue_User_UserRole",
            "relationship":"NewOwner"
        }
    },
    "Join_LiveChatTranscript_Case":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"Join_LiveChatTranscript_User",
            "left_key":[
                "CaseId"
            ],
            "right_select":[
                "Origin",
                "Reason",
                "Type",
                "IsClosed",
                "ClosedDate",
                "CreatedDate",
                "Type_of_Support__c",
                "Status",
                "Product_Family_KB__c",
                "Priority",
                "CaseNumber",
                "Account.Name",
                "Account.Id",
                "Duration__c",
                "CSAT__c",
                "Role.Name",
                "CurrentDate",
                "CSAT",
                "RecordType.Name"
            ],
            "right":"Join_CaseAccountContactUserUserRoleRecordType",
            "relationship":"Case"
        }
    },
    "Join_ActivityOwner_Case":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"Join_ActivityOwner",
            "left_key":[
                "WhatId"
            ],
            "right_select":[
                "Id",
                "Origin",
                "Reason",
                "Type",
                "IsClosed",
                "ClosedDate",
                "CreatedDate",
                "Type_of_Support__c",
                "Status",
                "Product_Family_KB__c",
                "Priority",
                "CaseNumber",
                "RecordType.Name",
                "Account.Name",
                "Account.Id",
                "Duration__c",
                "Role.Name",
                "CurrentDate",
                "Response_Time_mins__c"
            ],
            "right":"Handle_Null_RecordType",
            "relationship":"Case"
        }
    },
    "computeJoin_ServiceCaseTaskEvent":{
        "action":"computeExpression",
        "parameters":{
            "source":"Join_ServiceCaseTaskEvent",
            "computedFields":[
                {
                    "defaultValue":"0",
                    "precision":18,
                    "name":"sum_last_activity",
                    "saqlExpression":"case when ('Task.ActivityLastModifiedDate_sec_epoch' > 'Event.ActivityLastModifiedDate_sec_epoch' && 'Task.ActivityLastModifiedDate_sec_epoch' >= 'LastModifiedDate_sec_epoch') then  ('CurrentDate_sec_epoch' - 'Task.ActivityLastModifiedDate_sec_epoch')/86400 when ('Event.ActivityLastModifiedDate_sec_epoch' > 'Task.ActivityLastModifiedDate_sec_epoch' && 'Event.ActivityLastModifiedDate_sec_epoch' >= 'LastModifiedDate_sec_epoch') then ('CurrentDate_sec_epoch' - 'Event.ActivityLastModifiedDate_sec_epoch')/86400  when ('LastModifiedDate_sec_epoch' >= 'Task.ActivityLastModifiedDate_sec_epoch' && 'LastModifiedDate_sec_epoch' >= 'Event.ActivityLastModifiedDate_sec_epoch') then ('CurrentDate_sec_epoch' - 'LastModifiedDate_sec_epoch')/86400  else ('CurrentDate_sec_epoch' - 'LastModifiedDate_sec_epoch')/86400 end",
                    "scale":2,
                    "label":"Last LastModifiedDate",
                    "type":"Numeric"
                }
            ],
            "mergeWithSource":true
        }
    },
    "compute_CurrentDateForCase":{
        "action":"computeExpression",
        "parameters":{
            "source":"Extract_Case",
            "computedFields":[
                {
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "name":"CurrentDate",
                    "saqlExpression":"now()",
                    "label":"CurrentDate",
                    "type":"Date"
                },
                {
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "name":"ValidToWithNow",
                    "saqlExpression":"case  when ('IsClosed' == \"true\") then toDate('ClosedDate', \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\") else now()  end",
                    "label":"ValidToWithNow",
                    "type":"Date"
                }
            ],
            "mergeWithSource":true
        }
    },
    "Extract_Knowledge_ka":{
        "action":"sfdcDigest",
        "parameters":{
            "fields":[
                {
                    "name":"Id"
                },
                {
                    "name":"ArticleNumber__c"
                },
                {
                    "name":"CaseAssociationCount__c"
                },
                {
                    "name":"CreatedById"
                },
                {
                    "fiscalMonthOffset":0,
                    "firstDayOfWeek":"0",
                    "name":"CreatedDate__c",
                    "isYearEndFiscalYear":false
                },
                {
                    "fiscalMonthOffset":0,
                    "firstDayOfWeek":"0",
                    "name":"FirstPublishedDate__c",
                    "isYearEndFiscalYear":false
                },
                {
                    "fiscalMonthOffset":0,
                    "firstDayOfWeek":"0",
                    "name":"LastPublishedDate__c",
                    "isYearEndFiscalYear":false
                },
                {
                    "name":"LastModifiedById"
                }
            ],
            "object":"KCSArticle_ka__c"
        }
    },
    "rename_Knowledge_ka":{
        "action":"computeExpression",
        "parameters":{
            "mergeWithSource":true,
            "computedFields":[

                {
                    "name":"CreatedDate",
                    "type":"Date",
                    "label":"CreatedDate",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(CreatedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                },
                {
                    "name":"ArticleNumber",
                    "type":"Text",
                    "saqlExpression":"ArticleNumber__c",
                    "default":""
                },
                {
                    "name":"FirstPublishedDate",
                    "type":"Date",
                    "label":"FirstPublishedDate",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(FirstPublishedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                },
                {
                    "name":"LastPublishedDate",
                    "type":"Date",
                    "label":"LastPublishedDate",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(LastPublishedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                },
                {
                    "defaultValue":"0",
                    "precision":9,
                    "name":"CaseAssociationCount",
                    "saqlExpression":"CaseAssociationCount__c",
                    "scale":0,
                    "label":"CaseAssociationCount",
                    "type":"Numeric"
                }
            ],
            "source":"Extract_Knowledge_ka"
        }
    },
    "drop_custom_rename_Knowledge_ka":{
        "action":"sliceDataset",
        "parameters":{
            "source":"rename_Knowledge_ka",
            "mode":"drop",
            "fields":[
                {
                    "name":"ArticleNumber__c"
                },
                {
                    "name":"CaseAssociationCount__c"
                }
            ]
        }
    },
    "Handle_Null_Opportunity_RecordType":{
        "action":"computeExpression",
        "parameters":{
            "source":"Join_OpportunityRecordType",
            "computedFields":[
                {
                    "name":"RecordTypeName",
                    "saqlExpression":"case when RecordTypeId is null then \"N/A\" else 'RecordType.Name' end",
                    "label":"Opportunity Record Type",
                    "type":"Text"
                }
            ],
            "mergeWithSource":true
        }
    },
    "Add_Fields_To_User":{
        "action":"computeExpression",
        "parameters":{
            "source":"Extract_User",
            "computedFields":[
                {
                    "name":"Type",
                    "saqlExpression":"\"User\"",
                    "label":"Type",
                    "type":"Text"
                }
            ],
            "mergeWithSource":true
        }
    },
    "Join_Append_Knowledge__ka_kav_dataCategory_ViewStat":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "ParentId"
            ],
            "left":"Join_Append_Knowledge__ka_kav_dataCategory",
            "left_key":[
                "Id"
            ],
            "right_select":[
                "Channel",
                "ViewCount",
                "NormalizedScore"
            ],
            "right":"drop_custom_rename_Knowledge_ViewStat",
            "relationship":"ViewStat"
        }
    },
    "Register_ServiceCaseHistory":{
        "action":"sfdcRegister",
        "parameters":{
            "name":"ServiceCaseHistory",
            "alias":"<ServiceCaseHistory>",
            "source":"Join_CaseHistory_NewOwner",
            "folderid":"<folderId>"
        }
    },
    "Join_AgentWorkUserGroupServiceChannelCase_NoCSAT":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"Join_AgentWorkUserGroupServiceChannel",
            "left_key":[
                "WorkItemId"
            ],
            "right_select":[
                "Origin",
                "Reason",
                "Type",
                "IsClosed",
                "ClosedDate",
                "CreatedDate",
                "Type_of_Support__c",
                "Status",
                "Product_Family_KB__c",
                "Priority",
                "CaseNumber",
                "Account.Name",
                "Account.Id",
                "Duration__c",
                "Role.Name",
                "CurrentDate",
                "RecordType.Name"
            ],
            "right":"Join_CaseAccountContactUserUserRoleRecordType",
            "relationship":"Case"
        }
    },
    "Extract_Knowledge_kav_archived":{
        "action":"sfdcDigest",
        "parameters":{
            "enablePKChunking":false,
            "fields":[
                {
                    "name":"Id"
                },
                {
                    "name":"ArticleNumber__c"
                },
                {
                    "name":"CreatedById"
                },
                {
                    "fiscalMonthOffset":0,
                    "firstDayOfWeek":"0",
                    "name":"CreatedDate__c",
                    "isYearEndFiscalYear":false
                },
                {
                    "name":"OwnerId__c"
                },
                {
                    "name":"PublishStatus__c"
                },
                {
                    "name":"IsLatestVersion__c"
                },
                {
                    "name":"IsVisibleInApp__c"
                },
                {
                    "name":"IsVisibleInCsp__c"
                },
                {
                    "name":"IsVisibleInPkb__c"
                },
                {
                    "name":"IsVisibleInPrm__c"
                },
                {
                    "name":"KnowledgeArticleId__c"
                },
                {
                    "name":"Title__c"
                },
                {
                    "name":"VersionNumber__c",
                    "type":"Text"
                }
            ],
            "complexFilterConditions":"Language__c = 'en_US' and PublishStatus__c = 'Archived'",
            "object":"KCSArticle_kav__c"
        }
    },
    "rename_Knowledge_kav_archived":{
        "action":"computeExpression",
        "parameters":{
            "mergeWithSource":true,
            "computedFields":[

                {
                    "name":"ArticleNumber",
                    "type":"Text",
                    "saqlExpression":"ArticleNumber__c",
                    "default":""
                },
                {
                    "name":"PublishStatus",
                    "type":"Text",
                    "saqlExpression":"PublishStatus__c",
                    "default":""
                },
                {
                    "name":"CreatedDate",
                    "type":"Date",
                    "label":"CreatedDate",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(CreatedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                },
                {
                    "name":"IsLatestVersion",
                    "type":"Text",
                    "saqlExpression":"IsLatestVersion__c",
                    "default":""
                },
                {
                    "name":"IsVisibleInApp",
                    "type":"Text",
                    "saqlExpression":"IsVisibleInApp__c",
                    "default":""
                },
                {
                    "name":"IsVisibleInCsp",
                    "type":"Text",
                    "saqlExpression":"IsVisibleInCsp__c",
                    "default":""
                },
                {
                    "name":"IsVisibleInPkb",
                    "type":"Text",
                    "saqlExpression":"IsVisibleInPkb__c",
                    "default":""
                },
                {
                    "name":"IsVisibleInPrm",
                    "type":"Text",
                    "saqlExpression":"IsVisibleInPrm__c",
                    "default":""
                },
                {
                    "name":"KnowledgeArticleId",
                    "type":"Text",
                    "saqlExpression":"IsVisibleInPrm__c",
                    "default":""
                },
                {
                    "name":"Title",
                    "type":"Text",
                    "saqlExpression":"Title__c",
                    "default":""
                },
                {
                    "name":"VersionNumber",
                    "type":"Text",
                    "saqlExpression":"VersionNumber__c",
                    "default":""
                }
            ],
            "source":"Extract_Knowledge_kav_archived"
        }
    },
    "drop_custom_rename_Knowledge_kav_archived":{
        "action":"sliceDataset",
        "parameters":{

            "source":"rename_Knowledge_kav_archived",
            "mode":"drop",
            "fields":[
                {
                    "name":"ArticleNumber__c"
                },
                {
                    "name":"PublishStatus__c"
                },
                {
                    "name":"IsLatestVersion__c"
                },
                {
                    "name":"IsVisibleInApp__c"
                },
                {
                    "name":"IsVisibleInCsp__c"
                },
                {
                    "name":"IsVisibleInPkb__c"
                },
                {
                    "name":"IsVisibleInPrm__c"
                },
                {
                    "name":"KnowledgeArticleId__c"
                },
                {
                    "name":"Title__c"
                },
                {
                    "name":"VersionNumber__c",
                    "type":"Text"
                }
            ]
        }
    },
    "Register_ActivityOwner_Case":{
        "action":"sfdcRegister",
        "parameters":{
            "SFDCtoken":"SFDCtoken",
            "name":"ServiceActivity",
            "alias":"<ServiceActivity>",
            "source":"Filter_Activities",
            "folderid":"<folderId>"
        }
    },
    "Extract_Task":{
        "action":"sfdcDigest",
        "parameters":{
            "fields":[
                {
                    "name":"Id"
                },
                {
                    "name":"CallObject"
                },
                {
                    "name":"CallDurationInSeconds"
                },
                {
                    "defaultValue":"N/A",
                    "name":"CallDisposition"
                },
                {
                    "defaultValue":"N/A",
                    "name":"CallType"
                },
                {
                    "name":"OwnerId"
                },
                {
                    "defaultValue":"N/A",
                    "name":"Status"
                },
                {
                    "defaultValue":"N/A",
                    "name":"Priority"
                },
                {
                    "name":"IsClosed"
                },
                {
                    "defaultValue":"N/A",
                    "name":"TaskSubtype"
                },
                {
                    "fiscalMonthOffset":0,
                    "firstDayOfWeek":"0",
                    "name":"CreatedDate",
                    "isYearEndFiscalYear":false
                },
                {
                    "fiscalMonthOffset":0,
                    "firstDayOfWeek":"0",
                    "name":"ActivityDate",
                    "isYearEndFiscalYear":false
                },
                {
                    "fiscalMonthOffset":0,
                    "firstDayOfWeek":"0",
                    "name":"LastModifiedDate",
                    "isYearEndFiscalYear":false
                },
                {
                    "defaultValue":"N/A",
                    "name":"Subject"
                },
                {
                    "name":"WhatId"
                }
            ],
            "object":"Task"
        }
    },
    "Register_LiveChatTranscriptEvent":{
        "action":"sfdcRegister",
        "parameters":{
            "name":"ServiceChatTranscriptEvent",
            "alias":"<ServiceChatTranscriptEvent>",
            "source":"compute_LiveChatTranscriptEventLCT",
            "folderid":"<folderId>"
        }
    },
    "Append_TaskEvent":{
        "action":"append",
        "parameters":{
            "sources":[
                "Add_Fields_To_Task",
                "Add_Fields_To_Event"
            ]
        }
    },
    "Extract_ServicePresenceStatus":{
        "action":"sfdcDigest",
        "parameters":{
            "fields":[
                {
                    "name":"MasterLabel"
                },
                {
                    "name":"Id"
                }
            ],
            "object":"ServicePresenceStatus"
        }
    },
    "Register_LiveChatTranscript":{
        "action":"sfdcRegister",
        "parameters":{
            "name":"ServiceChatTranscript",
            "alias":"<ServiceChatTranscript>",
            "source":"compute_LiveChatTranscriptCSAT",
            "folderid":"<folderId>"
        }
    },
    "Extract_CaseArticleKnowledge":{
        "action":"sfdcDigest",
        "parameters":{
            "fields":[
                {
                    "name":"ArticleVersionNumber__c",
                    "type":"Text"
                },
                {
                    "fiscalMonthOffset":0,
                    "firstDayOfWeek":"0",
                    "name":"CreatedDate__c",
                    "isYearEndFiscalYear":false
                },
                {
                    "name":"CaseId__c"
                },
                {
                    "name":"CreatedById__c"
                },
                {
                    "name":"KnowledgeArticleId__c"
                },
                {
                    "name":"IsSharedByEmail__c"
                }
            ],
            "object":"CaseArticle__c"
        }
    },
    "rename_CaseArticleKnowledge":{
        "action":"computeExpression",
        "parameters":{
            "mergeWithSource":true,
            "computedFields":[
                {
                    "name":"ArticleVersionNumber",
                    "type":"Text",
                    "saqlExpression":"ArticleVersionNumber__c",
                    "default": ""
                },
                {
                    "name":"CaseId",
                    "type":"Text",
                    "saqlExpression":"CaseId__c",
                    "default":""
                },
                {
                    "name":"CreatedById",
                    "type":"Text",
                    "saqlExpression":"CreatedById__c",
                    "default":""
                },
                {
                    "name":"KnowledgeArticleId",
                    "type":"Text",
                    "saqlExpression":"KnowledgeArticleId__c",
                    "default":""
                },
                {
                    "name":"IsSharedByEmail",
                    "type":"Text",
                    "saqlExpression":"IsSharedByEmail__c",
                    "default":""
                },
                {
                    "name":"CreatedDate",
                    "type":"Date",
                    "label":"CreatedDate",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(CreatedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                }
            ],
            "source":"Extract_CaseArticleKnowledge"
        }
    },
    "drop_custom_rename_CaseArticleKnowledge":{
        "action":"sliceDataset",
        "parameters":{
            "source":"rename_CaseArticleKnowledge",
            "mode":"drop",
            "fields":[
                {
                    "name":"IsSharedByEmail__c"
                },
                {
                    "name":"KnowledgeArticleId__c"
                },
                {
                    "name":"CreatedById__c"
                },
                {
                    "name":"CaseId__c"
                },
                {
                    "name":"ArticleVersionNumber__c"
                }
            ]
        }
    },
    "Extract_Knowledge_VoteStat":{
        "action":"sfdcDigest",
        "parameters":{
            "fields":[
                {
                    "name":"Channel__c"
                },
                {
                    "name":"ParentId__c"
                },
                {
                    "name":"NormalizedScore__c"
                }
            ],
            "object":"KCSArticle_VoteStat__c"
        }
    },
    "rename_Knowledge_VoteStat":{
        "action":"computeExpression",
        "parameters":{
            "mergeWithSource":true,
            "computedFields":[
                {
                    "name":"ParentId",
                    "type":"Text",
                    "saqlExpression":"ParentId__c",
                    "default":""
                },
                {
                    "name":"Channel",
                    "type":"Text",
                    "saqlExpression":"Channel__c",
                    "default":""
                },
                {
                    "defaultValue":"0",
                    "precision":18,
                    "name":"NormalizedScore",
                    "saqlExpression":"NormalizedScore__c",
                    "scale":4,
                    "label":"CaseAssociationCount",
                    "type":"Numeric"
                }
            ],
            "source":"Extract_Knowledge_VoteStat"
        }
    },
    "drop_custom_rename_Knowledge_VoteStat":{
        "action":"sliceDataset",
        "parameters":{
            "source":"rename_Knowledge_VoteStat",
            "mode":"drop",
            "fields":[
                {
                    "name":"Channel__c"
                },
                {
                    "name":"ParentId__c"
                },
                {
                    "name":"NormalizedScore__c"
                }
            ]
        }
    },
    "Extract_LiveChatTranscriptEvent":{
        "action":"sfdcDigest",
        "parameters":{
            "filterConditions":[
                {
                    "field":"Type__c",
                    "value":[
                        "Accept",
                        "Transfer",
                        "OperatorJoinedConference"
                    ],
                    "operator":"IN"
                }
            ],
            "enablePKChunking":false,
            "fields":[
                {
                    "name":"Detail__c"
                },
                {
                    "name":"Time__c"
                },
                {
                    "name":"Type__c"
                },
                {
                    "name":"LiveChatTranscriptId__c"
                },
                {
                    "name":"AgentId__c"
                }
            ],
            "object":"LiveChatTranscriptEvent__c"
        }
    },
    "rename_LiveChatTranscriptEvent":{
        "action":"computeExpression",
        "parameters":{
            "mergeWithSource":true,
            "computedFields":[
                {
                    "name":"Detail",
                    "type":"Text",
                    "saqlExpression":"ParentId__c",
                    "default":""
                },
                {
                    "name":"Type",
                    "type":"Text",
                    "saqlExpression":"Type__c",
                    "default":""
                },
                {
                    "name":"LiveChatTranscriptId",
                    "type":"Text",
                    "saqlExpression":"LiveChatTranscriptId__c",
                    "default":""
                },
                {
                    "name":"AgentId",
                    "type":"Text",
                    "saqlExpression":"AgentId__c",
                    "default":""
                },
                {
                    "name":"Time",
                    "type":"Date",
                    "label":"Time",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(Time__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                }
            ],
            "source":"Extract_LiveChatTranscriptEvent"
        }
    },
    "drop_custom_rename_LiveChatTranscriptEvent":{
        "action":"sliceDataset",
        "parameters":{
            "source":"rename_LiveChatTranscriptEvent",
            "mode":"drop",
            "fields":[
                {
                    "name":"Detail__c"
                },
                {
                    "name":"Type__c"
                },
                {
                    "name":"LiveChatTranscriptId__c"
                },
                {
                    "name":"AgentId__c"
                }
            ]
        }
    },
    "Add_Fields_To_Event":{
        "action":"computeExpression",
        "parameters":{
            "source":"Extract_Event",
            "computedFields":[
                {
                    "name":"CallObject",
                    "saqlExpression":"\"000000000000000\"",
                    "label":"CallObject",
                    "type":"Text"
                },
                {
                    "name":"Type",
                    "saqlExpression":"\"Event\"",
                    "label":"Type",
                    "type":"Text"
                },
                {
                    "name":"CallDisposition",
                    "saqlExpression":"\"Event\"",
                    "label":"CallDisposition",
                    "type":"Text"
                },
                {
                    "name":"CallType",
                    "saqlExpression":"\"Event\"",
                    "label":"CallType",
                    "type":"Text"
                },
                {
                    "name":"Status",
                    "saqlExpression":"\"Event\"",
                    "label":"Status",
                    "type":"Text"
                },
                {
                    "name":"Priority",
                    "saqlExpression":"\"Event\"",
                    "label":"Priority",
                    "type":"Text"
                },
                {
                    "name":"TaskSubtype",
                    "saqlExpression":"EventSubtype",
                    "label":"TaskSubtype",
                    "type":"Text"
                },
                {
                    "name":"ActivityType",
                    "saqlExpression":"EventSubtype",
                    "label":"ActivityType",
                    "type":"Text"
                },
                {
                    "defaultValue":"0",
                    "precision":8,
                    "name":"CallDurationInSeconds",
                    "saqlExpression":"0",
                    "scale":0,
                    "label":"CallDurationInSeconds",
                    "type":"Numeric"
                },
                {
                    "name":"IsClosed",
                    "saqlExpression":"case when date(ActivityDate_Year,ActivityDate_Month,ActivityDate_Day) in [\"1 year ago\"..\"current day\"] then \"false\" else \"true\" end",
                    "label":"IsClosed",
                    "type":"Text"
                }
            ],
            "mergeWithSource":true
        }
    },
    "Join_CaseHistory_Queue_User_UserRole":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"Append_Queue_User",
            "left_key":[
                "UserRoleId"
            ],
            "right_select":[
                "Name"
            ],
            "right":"Extract_UserRole",
            "relationship":"Role"
        }
    },
    "Register_KnowledgeAttached":{
        "action":"sfdcRegister",
        "parameters":{
            "name":"ServiceKnowledgeAttached",
            "alias":"<ServiceKnowledgeAttached>",
            "source":"computeKnowledgeCitationFlag",
            "folderid":"<folderId>"
        }
    },
    "Join_OpportunityRecordType":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"Extract_Opportunity",
            "left_key":[
                "RecordTypeId"
            ],
            "right_select":[
                "Name"
            ],
            "right":"Extract_RecordTypes",
            "relationship":"RecordType"
        }
    },
    "compute_LiveChatTranscriptEventLCT":{
        "action":"computeExpression",
        "parameters":{
            "source":"Join_LiveChatTranscriptEventLCT",
            "computedFields":[
                {
                    "name":"IsChatTransfered",
                    "saqlExpression":"case when 'LCT.Status' == \"Completed\" && (('Type' == \"Accept\") || ('Type' ==  \"Transfer\")  || ('Type' ==  \"OperatorJoinedConference\")) && 'LCT.StartTime' != 'Time' then 1 else 0 end ",
                    "scale":0,
                    "label":"Is Chat Transfered",
                    "type":"Numeric"
                },
                {
                    "precision":18,
                    "name":"AgentChatEndTime_sec_epoch",
                    "saqlExpression":"case when 'TempAgentChatEndTime_sec_epoch' == 'Time_sec_epoch' then 'LCT.EndTime_sec_epoch' else 'TempAgentChatEndTime_sec_epoch' end ",
                    "scale":2,
                    "label":"Agent Chat End Time",
                    "type":"Numeric"
                },
                {
                    "precision":18,
                    "name":"AgentChatDuration",
                    "saqlExpression":"case when 'TempAgentChatEndTime_sec_epoch' == 'Time_sec_epoch' then 'LCT.EndTime_sec_epoch' - 'Time_sec_epoch' else 'TempAgentChatEndTime_sec_epoch' - 'Time_sec_epoch' end ",
                    "scale":2,
                    "label":"Agent Chat Duration",
                    "type":"Numeric"
                }
            ],
            "mergeWithSource":true
        }
    },
    "Extract_LiveChatButton":{
        "action":"sfdcDigest",
        "parameters":{
            "fields":[
                {
                    "name":"MasterLabel"
                },
                {
                    "name":"CustomAgentName"
                },
                {
                    "name":"Id"
                }
            ],
            "object":"LiveChatButton"
        }
    },
    "Append_Knowledge_kav":{
        "action":"append",
        "parameters":{
            "sources":[
                "drop_custom_rename_Knowledge_kav_online",
                "drop_custom_rename_Knowledge_kav_archived"
            ]
        }
    },
    "Extract_CaseHistory":{
        "action":"sfdcDigest",
        "parameters":{
            "enablePKChunking":false,
            "fields":[
                {
                    "name":"CaseId__c"
                },
                {
                    "name":"CreatedById__c"
                },
                {
                    "fiscalMonthOffset":0,
                    "firstDayOfWeek":"0",
                    "name":"CreatedDate__c",
                    "isYearEndFiscalYear":false
                },
                {
                    "name":"Field__c"
                },
                {
                    "name":"Id"
                },
                {
                    "name":"NewValue__c"
                },
                {
                    "name":"OldValue__c"
                }
            ],
            "complexFilterConditions":"CreatedDate__c >= LAST_N_MONTHS:18 and Field__c IN ('Status', 'Owner')",
            "object":"CaseHistory__c"
        }
    },
    "rename_CaseHistoryFields":{
        "action":"computeExpression",
        "parameters":{
            "mergeWithSource":true,
            "computedFields":[
                {
                    "name":"CaseId",
                    "type":"Text",
                    "saqlExpression":"CaseId__c",
                    "default":""
                },
                {
                    "name":"CreatedById",
                    "type":"Text",
                    "saqlExpression":"CreatedById__c",
                    "default":""
                },
                {
                    "name":"CreatedDate",
                    "type":"Date",
                    "label":"CreatedDate",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(CreatedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                },
                {
                    "name":"Field",
                    "type":"Text",
                    "saqlExpression":"Field__c",
                    "default":""
                },
                {
                    "name":"NewValue",
                    "type":"Text",
                    "saqlExpression":"NewValue__c",
                    "default":""
                },
                {
                    "name":"OldValue",
                    "type":"Text",
                    "saqlExpression":"OldValue__c",
                    "default":""
                }
            ],
            "source":"Extract_CaseHistory"
        }
    },
    "drop_custom_rename_CaseHistoryFields":{
        "action":"sliceDataset",
        "parameters":{
            "source":"rename_CaseHistoryFields",
            "mode":"drop",
            "fields":[
                {
                    "name":"CaseId__c"
                },
                {
                    "name":"CreatedById__c"
                },
                {
                    "name":"CreatedDate__c"
                },
                {
                    "name":"Field__c"
                },
                {
                    "name":"NewValue__c"
                },
                {
                    "name":"OldValue__c"
                }
            ]
        }
    },
    "Extract_RecordTypes":{
        "action":"sfdcDigest",
        "parameters":{
            "fields":[
                {
                    "name":"Name"
                },
                {
                    "name":"Id"
                }
            ],
            "object":"RecordType"
        }
    },
    "Extract_Account":{
        "action":"sfdcDigest",
        "parameters":{
            "fields":[
                {
                    "name":"Id"
                },
                {
                    "name":"Name"
                },
                {
                    "defaultValue":"N/A",
                    "name":"BillingState"
                },
                {
                    "defaultValue":"N/A",
                    "name":"Industry"
                }
            ],
            "object":"Account"
        }
    },
    "Join_AgentWorkUserGroup":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"Join_AgentWorkUser",
            "left_key":[
                "OriginalQueueId"
            ],
            "right_select":[
                "Name"
            ],
            "right":"Extract_Group",
            "relationship":"Group"
        }
    },
    "Join_ServiceCaseTaskEvent":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "WhatId"
            ],
            "left":"Join_ServiceCaseServiceTask",
            "left_key":[
                "Id"
            ],
            "right_select":[
                "ActivityLastModifiedDate"
            ],
            "right":"Compute_Extract_Event",
            "relationship":"Event"
        }
    },
    "computeJoin_ServiceCaseTask":{
        "action":"computeExpression",
        "parameters":{
            "source":"Join_ServiceCaseServiceTask",
            "computedFields":[
                {
                    "defaultValue":"0",
                    "precision":18,
                    "name":"sum_last_activity",
                    "saqlExpression":"case when ('Task.ActivityLastModifiedDate_sec_epoch' >= 'LastModifiedDate_sec_epoch') then ('CurrentDate_sec_epoch' - 'Task.ActivityLastModifiedDate_sec_epoch')/86400 when ('LastModifiedDate_sec_epoch' >= 'Task.ActivityLastModifiedDate_sec_epoch') then ('CurrentDate_sec_epoch' - 'LastModifiedDate_sec_epoch')/86400  else ('CurrentDate_sec_epoch' - 'LastModifiedDate_sec_epoch')/86400 end",
                    "scale":2,
                    "label":"Last LastModifiedDate",
                    "type":"Numeric"
                }
            ],
            "mergeWithSource":true
        }
    },
    "Extract_UserRole":{
        "action":"sfdcDigest",
        "parameters":{
            "fields":[
                {
                    "name":"Id"
                },
                {
                    "name":"Name"
                },
                {
                    "name":"ParentRoleId"
                },
                {
                    "fiscalMonthOffset":0,
                    "firstDayOfWeek":"0",
                    "name":"LastModifiedDate",
                    "isYearEndFiscalYear":false
                },
                {
                    "name":"LastModifiedById"
                },
                {
                    "name":"SystemModstamp"
                }
            ],
            "object":"UserRole"
        }
    },
    "Join_CaseAccountContactUserUserRole":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"Join_CaseAccountContactUser",
            "left_key":[
                "Owner.UserRoleId"
            ],
            "right_select":[
                "Name",
                "ParentRoleId"
            ],
            "right":"Extract_UserRole",
            "relationship":"Role"
        }
    },
    "Compute_Extract_Event":{
        "action":"computeRelative",
        "parameters":{
            "partitionBy":[
                "WhatId"
            ],
            "orderBy":[
                {
                    "name":"LastModifiedDate",
                    "direction":"asc"
                }
            ],
            "source":"Extract_Event",
            "computedFields":[
                {
                    "expression":{
                        "sourceField":"LastModifiedDate",
                        "default":"current()",
                        "offset":"first()"
                    },
                    "name":"ActivityLastModifiedDate",
                    "description":"ActivityLastModifiedDate",
                    "label":"ActivityLastModifiedDate"
                }
            ]
        }
    },
    "compute_CaseHistory_OldNewStatus":{
        "action":"computeExpression",
        "parameters":{
            "source":"compute_CaseHistory_CurrentDate",
            "computedFields":[
                {
                    "name":"NewStatus",
                    "saqlExpression":"case when 'Field' == \"created\" then \"Created\" when 'Field' == \"Status\" then 'NewValue' else\"NA\" end ",
                    "label":"New Status",
                    "type":"Text"
                },
                {
                    "name":"OldStatus",
                    "saqlExpression":"case when 'Field' == \"closed\" then \"Closed\" when 'Field' == \"Status\" then 'OldValue' else \"NA\" end ",
                    "label":"Old Status",
                    "type":"Text"
                },
                {
                    "defaultValue":"N/A",
                    "name":"NewOwner",
                    "saqlExpression":"case when 'Field' == \"Owner\" then 'NewValue' else\"NA\" end ",
                    "label":"New Owner",
                    "type":"Text"
                },
                {
                    "defaultValue":"N/A",
                    "name":"OldOwner",
                    "saqlExpression":"case when 'Field' == \"Owner\" then 'OldValue' else \"NA\" end ",
                    "label":"Old Owner",
                    "type":"Text"
                },
                {
                    "defaultValue":"0",
                    "precision":18,
                    "name":"DateDiffOld",
                    "saqlExpression":"case when ('CreatedDatePrev' is null) then ('CreatedDate_sec_epoch' - 'Case.CreatedDate_sec_epoch')/86400  else ('CreatedDate_sec_epoch' - 'CreatedDatePrev_sec_epoch')/86400 end",
                    "scale":2,
                    "label":"Date Diff Old",
                    "type":"Numeric"
                },
                {
                    "defaultValue":"0",
                    "precision":18,
                    "name":"DateDiffNew",
                    "saqlExpression":"case  when ('Case.IsClosed' == \"true\" && 'CreatedDateNext' is null && CreatedDate <= 'Case.ClosedDate') then ('Case.ClosedDate_sec_epoch' - 'CreatedDate_sec_epoch')/86400   when ('Case.IsClosed' == \"true\" &&  CreatedDate > 'Case.ClosedDate') then 0 when 'CreatedDateNext' is null then ('CurrentDate_sec_epoch' -'CreatedDate_sec_epoch')/86400 else ('CreatedDateNext_sec_epoch' - 'CreatedDate_sec_epoch')/86400 end",
                    "scale":2,
                    "label":"Date Diff New",
                    "type":"Numeric"
                },
                {
                    "defaultValue":"false",
                    "name":"ChangeAfterCloseDate",
                    "saqlExpression":"case  when ('Field' == \"Owner\" && 'CreatedDate' > 'Case.ClosedDate') then \"true\"  else \"false\" end ",
                    "label":"Change After CloseDate",
                    "type":"Text"
                },
                {
                    "defaultValue":"false",
                    "name":"IsLastChange",
                    "saqlExpression":"case when ('Case.ClosedDate' is null && 'ValidToDate' == \"3000-10-10T10:10:10.100Z\") then \"true\" when ('ValidFromDate' <= 'Case.ClosedDate' && 'ValidToDate' > 'Case.ClosedDate') then \"true\" else \"false\" end ",
                    "label":"Last Change",
                    "type":"Text"
                }
            ],
            "mergeWithSource":true
        }
    },
    "Extract_Group":{
        "action":"sfdcDigest",
        "parameters":{
            "fields":[
                {
                    "name":"Name"
                },
                {
                    "name":"Id"
                }
            ],
            "object":"Group"
        }
    },
    "Extract_Event":{
        "action":"sfdcDigest",
        "parameters":{
            "fields":[
                {
                    "name":"OwnerId"
                },
                {
                    "fiscalMonthOffset":0,
                    "firstDayOfWeek":"0",
                    "name":"CreatedDate",
                    "isYearEndFiscalYear":false
                },
                {
                    "fiscalMonthOffset":0,
                    "firstDayOfWeek":"0",
                    "name":"LastModifiedDate",
                    "isYearEndFiscalYear":false
                },
                {
                    "fiscalMonthOffset":0,
                    "firstDayOfWeek":"0",
                    "name":"ActivityDate",
                    "isYearEndFiscalYear":false
                },
                {
                    "name":"EndDateTime"
                },
                {
                    "defaultValue":"N/A",
                    "name":"Subject"
                },
                {
                    "name":"ShowAs"
                },
                {
                    "name":"DurationInMinutes"
                },
                {
                    "defaultValue":"N/A",
                    "name":"EventSubtype"
                },
                {
                    "name":"WhatId"
                }
            ],
            "object":"Event"
        }
    },
    "Append_CaseHistory":{
        "action":"append",
        "parameters":{
            "sources":[
                "compute_CaseHistory_DatePrevious_Status",
                "compute_CaseHistory_DatePrevious_Owner"
            ]
        }
    },
    "Join_LiveChatTranscriptEventLCT":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"compute_LiveChatTranscriptEvent_ChatBoundaries",
            "left_key":[
                "LiveChatTranscriptId"
            ],
            "right_select":[
                "Status",
                "ChatDuration",
                "EndedBy",
                "StartTime",
                "EndTime",
                "RequestTime"
            ],
            "right":"compute_LiveChatTranscriptCSAT",
            "relationship":"LCT"
        }
    },
    "Join_CaseHistory_Case":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"Append_CaseHistory",
            "left_key":[
                "CaseId"
            ],
            "right_select":[
                "IsClosed",
                "ClosedDate",
                "CreatedDate",
                "Duration__c",
                "Product_Family_KB__c",
                "Origin",
                "Reason",
                "Type_of_Support__c",
                "Priority",
                "IsEscalated",
                "MilestoneStatus",
                "RecordType.Name",
                "Account.Name",
                "Account.Id",
                "Type",
                "CaseNumber"
            ],
            "right":"Join_CaseAccountContactUserUserRoleRecordType",
            "relationship":"Case"
        }
    },
    "Join_CaseAccount":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"Case_CSAT_Mea",
            "left_key":[
                "AccountId"
            ],
            "right_select":[
                "Id",
                "Name",
                "BillingState",
                "Industry"
            ],
            "right":"Extract_Account",
            "relationship":"Account"
        }
    },
    "Join_CaseAccountContact":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"computeJoin_ServiceCaseTaskEvent",
            "left_key":[
                "ContactId"
            ],
            "right_select":[
                "Name",
                "Id"
            ],
            "right":"Extract_Contact",
            "relationship":"Contact"
        }
    },
    "compute_AgentWorkCSAT":{
        "action":"computeExpression",
        "parameters":{
            "source":"Join_AgentWorkUserGroupServiceChannelCase",
            "mergeWithSource":true,
            "computedFields":[
                {
                    "name":"CSAT",
                    "saqlExpression":"case when 'Case.CreatedDate' is null then -999 else 'Case.CSAT' end ",
                    "scale":0,
                    "type":"Numeric"
                }
            ]
        }
    },
    "Compute_Extract_Task":{
        "action":"computeRelative",
        "parameters":{
            "partitionBy":[
                "WhatId"
            ],
            "orderBy":[
                {
                    "name":"LastModifiedDate",
                    "direction":"asc"
                }
            ],
            "source":"Extract_Task",
            "computedFields":[
                {
                    "expression":{
                        "sourceField":"LastModifiedDate",
                        "default":"current()",
                        "offset":"first()"
                    },
                    "name":"ActivityLastModifiedDate",
                    "description":"ActivityLastModifiedDate",
                    "label":"ActivityLastModifiedDate"
                }
            ]
        }
    },
    "Extract_User":{
        "action":"sfdcDigest",
        "parameters":{
            "fields":[
                {
                    "name":"CallCenterId"
                },
                {
                    "name":"Name"
                },
                {
                    "name":"UserRoleId"
                },
                {
                    "name":"Id"
                }
            ],
            "object":"User"
        }
    },
    "Extract_UserServicePresence":{
        "action":"sfdcDigest",
        "parameters":{
            "fields":[
                {
                    "name":"AtCapacityDuration__c"
                },
                {
                    "name":"AverageCapacity__c"
                },
                {
                    "name":"ConfiguredCapacity__c"
                },
                {
                    "name":"CreatedDate__c"
                },
                {
                    "name":"IsDeleted"
                },
                {
                    "name":"IdleDuration__c"
                },
                {
                    "name":"IsAway__c"
                },
                {
                    "name":"IsCurrentState__c"
                },
                {
                    "name":"LastModifiedDate"
                },
                {
                    "name":"Name"
                },
                {
                    "name":"StatusDuration__c"
                },
                {
                    "name":"StatusEndDate__c"
                },
                {
                    "name":"StatusStartDate__c"
                },
                {
                    "name":"SystemModstamp"
                },
                {
                    "name":"Id"
                },
                {
                    "name":"UserId__c"
                },
                {
                    "name":"ServicePresenceStatusId__c"
                }
            ],
            "object":"UserServicePresence__c"
        }
    },
    "rename_UserServicePresence":{
        "action":"computeExpression",
        "parameters":{
            "mergeWithSource":true,
            "computedFields":[
                {
                    "defaultValue":"0",
                    "precision":9,
                    "name":"AtCapacityDuration",
                    "saqlExpression":"AtCapacityDuration__c",
                    "scale":0,
                    "type":"Numeric"
                },
                {
                    "defaultValue":"0",
                    "precision":10,
                    "name":"AverageCapacity",
                    "saqlExpression":"AverageCapacity__c",
                    "scale":2,
                    "type":"Numeric"
                },
                {
                    "defaultValue":"0",
                    "precision":9,
                    "name":"ConfiguredCapacity",
                    "saqlExpression":"ConfiguredCapacity__c",
                    "scale":0,
                    "type":"Numeric"
                },
                {
                    "name":"CreatedDate",
                    "type":"Date",
                    "label":"CreatedDate",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(CreatedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                },
                {
                    "defaultValue":"0",
                    "precision":9,
                    "name":"IdleDuration",
                    "saqlExpression":"IdleDuration__c",
                    "scale":0,
                    "type":"Numeric"
                },
                {
                    "name":"IsAway",
                    "type":"Text",
                    "saqlExpression":"IsAway__c",
                    "default":""
                },
                {
                    "name":"IsCurrentState",
                    "type":"Text",
                    "saqlExpression":"IsCurrentState__c",
                    "default":""
                },
                {
                    "defaultValue":"0",
                    "precision":9,
                    "name":"StatusDuration",
                    "saqlExpression":"StatusDuration__c",
                    "scale":0,
                    "type":"Numeric"
                },
                {
                    "name":"StatusEndDate",
                    "type":"Date",
                    "label":"StatusEndDate",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(StatusEndDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                },
                {
                    "name":"StatusStartDate",
                    "type":"Date",
                    "label":"StatusStartDate",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(StatusStartDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                },
                {
                    "name":"UserId",
                    "type":"Text",
                    "saqlExpression":"UserId__c",
                    "default":""
                },
                {
                    "name":"ServicePresenceStatusId",
                    "type":"Text",
                    "saqlExpression":"ServicePresenceStatusId__c",
                    "default":""
                }
            ],
            "source":"Extract_UserServicePresence"
        }
    },
    "drop_custom_rename_UserServicePresence":{
        "action":"sliceDataset",
        "parameters":{
            "source":"rename_UserServicePresence",
            "mode":"drop",
            "fields":[
                {
                    "name":"AtCapacityDuration__c"
                },
                {
                    "name":"AverageCapacity__c"
                },
                {
                    "name":"ConfiguredCapacity__c"
                },
                {
                    "name":"IdleDuration__c"
                },
                {
                    "name":"IsAway__c"
                },
                {
                    "name":"IsCurrentState__c"
                },
                {
                    "name":"StatusDuration__c"
                },
                {
                    "name":"UserId__c"
                },
                {
                    "name":"ServicePresenceStatusId__c"
                }
            ]
        }
    },
    "Register_Knowledge":{
        "action":"sfdcRegister",
        "parameters":{
            "name":"ServiceKnowledge",
            "alias":"<ServiceKnowledge>",
            "source":"computeKnowledgeDraftStatusAndChannelField",
            "folderid":"<folderId>"
        }
    },
    "Join_OpportunityRecordTypeAccount":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"Handle_Null_Opportunity_RecordType",
            "left_key":[
                "AccountId"
            ],
            "right_select":[
                "Id",
                "Name",
                "BillingState",
                "Industry"
            ],
            "right":"Extract_Account",
            "relationship":"Account"
        }
    },
    "computeKnowledgeCitationFlag":{
        "action":"computeExpression",
        "parameters":{
            "source":"Join_CaseArticleKnowledge_User_Case_Knowledge",
            "computedFields":[
                {
                    "name":"isAttachedByOwner",
                    "saqlExpression":"case when 'CreatedById' == 'Article.CreatedById' then \"true\" else \"false\" end",
                    "label":"is Attached By Owner?",
                    "type":"Text"
                }
            ],
            "mergeWithSource":true
        }
    },
    "compute_CaseHistory_DatePrevious_Owner":{
        "action":"computeRelative",
        "parameters":{
            "partitionBy":[
                "CaseId"
            ],
            "orderBy":[
                {
                    "name":"CreatedDate",
                    "direction":"asc"
                }
            ],
            "source":"Filter_CaseHistoryOwner",
            "computedFields":[
                {
                    "expression":{
                        "sourceField":"CreatedDate",
                        "default":"3000-10-10T10:10:10.100Z",
                        "offset":"next()"
                    },
                    "name":"ValidToDate",
                    "description":"ValidToDate",
                    "label":"ValidToDate"
                },
                {
                    "expression":{
                        "sourceField":"CreatedDate",
                        "default":"current()",
                        "offset":"current()"
                    },
                    "name":"ValidFromDate",
                    "description":"ValidFromDate",
                    "label":"ValidFromDate"
                },
                {
                    "expression":{
                        "sourceField":"CreatedDate",
                        "default":null,
                        "offset":"next()"
                    },
                    "name":"CreatedDateNext",
                    "description":"Next Created Date",
                    "label":"Next CreatedDate"
                },
                {
                    "expression":{
                        "sourceField":"CreatedDate",
                        "default":null,
                        "offset":"previous()"
                    },
                    "name":"CreatedDatePrev",
                    "description":"Previous Created Date",
                    "label":"Previous CreatedDate"
                }
            ]
        }
    },
    "Filter_CaseHistoryStatus":{
        "action":"filter",
        "parameters":{
            "filter":"Field:EQ:Status",
            "source":"drop_custom_rename_CaseHistoryFields"
        }
    },
    "Handle_Null_Attached_Articles":{
        "action":"dim2mea",
        "parameters":{
            "measure":"ArticleVersion",
            "measureDefault":"0",
            "source":"Join_CaseAccountContactUserUserRoleCaseArticle",
            "dimension":"CaseArticle.ArticleVersionNumber",
            "measureType":"long"
        }
    },
    "Extract_Queue":{
        "action":"sfdcDigest",
        "parameters":{
            "fields":[
                {
                    "name":"Id"
                },
                {
                    "name":"Name"
                }
            ],
            "complexFilterConditions":"Type = 'Queue'",
            "object":"Group"
        }
    },
    "Extract_AgentWork":{
        "action":"sfdcDigest",
        "parameters":{
            "fields":[
                {
                    "name":"AcceptDateTime__c"
                },
                {
                    "name":"ActiveTime__c"
                },
                {
                    "name":"AgentCapacityWhenDeclined__c"
                },
                {
                    "name":"Id"
                },
                {
                    "name":"AssignedDateTime__c"
                },
                {
                    "name":"CancelDateTime__c"
                },
                {
                    "name":"CloseDateTime__c"
                },
                {
                    "name":"CreatedDate__c"
                },
                {
                    "name":"DeclineDateTime__c"
                },
                {
                    "name":"DeclineReason__c"
                },
                {
                    "name":"IsDeleted"
                },
                {
                    "name":"HandleTime__c"
                },
                {
                    "name":"LastModifiedDate"
                },
                {
                    "name":"Name"
                },
                {
                    "name":"CapacityPercentage__c"
                },
                {
                    "name":"PushTimeout__c"
                },
                {
                    "name":"PushTimeoutDateTime__c"
                },
                {
                    "name":"RequestDateTime__c"
                },
                {
                    "name":"SpeedToAnswer__c"
                },
                {
                    "name":"Status__c"
                },
                {
                    "name":"SystemModstamp"
                },
                {
                    "name":"CapacityWeight__c"
                },
                {
                    "name":"UserId__c"
                },
                {
                    "name":"OriginalQueueId__c"
                },
                {
                    "name":"ServiceChannelId__c"
                },
                {
                    "name":"WorkItemId__c"
                }
            ],
            "object":"AgentWork__c"
        }
    },
    "rename_AgentWork":{
        "action":"computeExpression",
        "parameters":{
            "mergeWithSource":true,
            "computedFields":[
                {
                    "name":"AcceptDateTime",
                    "type":"Date",
                    "label":"AcceptDateTime",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(AcceptDateTime__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                },
                {
                    "defaultValue":"0",
                    "precision":9,
                    "name":"ActiveTime",
                    "saqlExpression":"ActiveTime__c",
                    "scale":0,
                    "type":"Numeric"
                },
                {
                    "defaultValue":"0",
                    "precision":10,
                    "name":"AgentCapacityWhenDeclined",
                    "saqlExpression":"AgentCapacityWhenDeclined__c",
                    "scale":2,
                    "type":"Numeric"
                },
                {
                    "name":"AssignedDateTime",
                    "type":"Date",
                    "label":"AssignedDateTime",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(AssignedDateTime__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                },
                {
                    "name":"CancelDateTime",
                    "type":"Date",
                    "label":"CancelDateTime",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(CancelDateTime__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                },
                {
                    "name":"CloseDateTime",
                    "type":"Date",
                    "label":"CloseDateTime",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(CloseDateTime__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                },
                {
                    "name":"CreatedDate",
                    "type":"Date",
                    "label":"CreatedDate",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(CreatedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                },
                {
                    "name":"DeclineDateTime",
                    "type":"Date",
                    "label":"DeclineDateTime",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(DeclineDateTime__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                },
                {
                    "name":"DeclineReason",
                    "type":"Text",
                    "saqlExpression":"DeclineReason__c",
                    "default":""
                },
                {
                    "defaultValue":"0",
                    "precision":9,
                    "name":"HandleTime",
                    "saqlExpression":"HandleTime__c",
                    "scale":0,
                    "type":"Numeric"
                },
                {
                    "defaultValue":"0",
                    "precision":5,
                    "name":"CapacityPercentage",
                    "saqlExpression":"CapacityPercentage__c",
                    "scale":2,
                    "type":"Numeric"
                },
                {
                    "defaultValue":"0",
                    "precision":9,
                    "name":"PushTimeout",
                    "saqlExpression":"PushTimeout__c",
                    "scale":0,
                    "type":"Numeric"
                },
                {
                    "name":"PushTimeoutDateTime",
                    "type":"Date",
                    "label":"PushTimeoutDateTime",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(PushTimeoutDateTime__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                },
                {
                    "name":"RequestDateTime",
                    "type":"Date",
                    "label":"RequestDateTime",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(RequestDateTime__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                },
                {
                    "defaultValue":"0",
                    "precision":9,
                    "name":"SpeedToAnswer",
                    "saqlExpression":"SpeedToAnswer__c",
                    "scale":0,
                    "type":"Numeric"
                },
                {
                    "name":"Status",
                    "type":"Text",
                    "saqlExpression":"Status__c",
                    "default":""
                },
                {
                    "defaultValue":"0",
                    "precision":10,
                    "name":"CapacityWeight",
                    "saqlExpression":"CapacityWeight__c",
                    "scale":2,
                    "type":"Numeric"
                },
                {
                    "name":"UserId",
                    "type":"Text",
                    "saqlExpression":"UserId__c",
                    "default":""
                },
                {
                    "name":"OriginalQueueId",
                    "type":"Text",
                    "saqlExpression":"OriginalQueueId__c",
                    "default":""
                },
                {
                    "name":"ServiceChannelId",
                    "type":"Text",
                    "saqlExpression":"ServiceChannelId__c",
                    "default":""
                },
                {
                    "name":"WorkItemId",
                    "type":"Text",
                    "saqlExpression":"WorkItemId__c",
                    "default":""
                }
            ],
            "source":"Extract_AgentWork"
        }
    },
    "drop_custom_rename_AgentWork":{
        "action":"sliceDataset",
        "parameters":{
            "source":"rename_AgentWork",
            "mode":"drop",
            "fields":[
                {
                    "name":"ActiveTime__c"
                },
                {
                    "name":"AgentCapacityWhenDeclined__c"
                },
                {
                    "name":"Id"
                },
                {
                    "name":"DeclineReason__c"
                },
                {
                    "name":"IsDeleted"
                },
                {
                    "name":"HandleTime__c"
                },
                {
                    "name":"CapacityPercentage__c"
                },
                {
                    "name":"PushTimeout__c"
                },
                {
                    "name":"SpeedToAnswer__c"
                },
                {
                    "name":"Status__c"
                },
                
                {
                    "name":"CapacityWeight__c"
                },
                {
                    "name":"UserId__c"
                },
                {
                    "name":"OriginalQueueId__c"
                },
                {
                    "name":"ServiceChannelId__c"
                },
                {
                    "name":"WorkItemId__c"
                }
            ]
        }
    },
    "Extract_Knowledge_ViewStat":{
        "action":"sfdcDigest",
        "parameters":{
            "fields":[
                {
                    "name":"Channel__c"
                },
                {
                    "name":"ParentId__c"
                },
                {
                    "name":"ViewCount__c"
                },
                {
                    "name":"NormalizedScore__c"
                }
            ],
            "object":"KCSArticle_ViewStat__c"
        }
    },
    "rename_Knowledge_ViewStat":{
        "action":"computeExpression",
        "parameters":{
            "mergeWithSource":true,
            "computedFields":[
                {
                    "name":"ParentId",
                    "type":"Text",
                    "saqlExpression":"ParentId__c",
                    "default":""
                },
                {
                    "name":"Channel",
                    "type":"Text",
                    "saqlExpression":"Channel__c",
                    "default":""
                },
                {
                    "defaultValue":"0",
                    "precision":18,
                    "name":"NormalizedScore",
                    "saqlExpression":"NormalizedScore__c",
                    "scale":4,
                    "label":"NormalizedScore",
                    "type":"Numeric"
                },
                {
                    "defaultValue":"0",
                    "precision":9,
                    "name":"ViewCount",
                    "saqlExpression":"ViewCount__c",
                    "scale":0,
                    "label":"ViewCount",
                    "type":"Numeric"
                }
            ],
            "source":"Extract_Knowledge_ViewStat"
        }
    },
    "drop_custom_rename_Knowledge_ViewStat":{
        "action":"sliceDataset",
        "parameters":{
            "source":"rename_Knowledge_ViewStat",
            "mode":"drop",
            "fields":[
                {
                    "name":"Channel__c"
                },
                {
                    "name":"ParentId__c"
                },
                {
                    "name":"NormalizedScore__c"
                },
                {
                    "name":"ViewCount__c"
                }
            ]
        }
    },
    "Handle_Null_RecordType":{
        "action":"computeExpression",
        "parameters":{
            "source":"Join_CaseAccountContactUserUserRoleRecordType",
            "computedFields":[
                {
                    "name":"RecordTypeName",
                    "saqlExpression":"case when RecordTypeId is null then \"N/A\" else 'RecordType.Name' end",
                    "label":"Case Record Type",
                    "type":"Text"
                }
            ],
            "mergeWithSource":true
        }
    },
    "Join_LiveChatTranscriptEvent_User":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"drop_custom_rename_LiveChatTranscriptEvent",
            "left_key":[
                "AgentId"
            ],
            "right_select":[
                "Name"
            ],
            "right":"Extract_User",
            "relationship":"User"
        }
    },
    "Filter_CaseHistoryOwner":{
        "action":"filter",
        "parameters":{
            "filter":"Field:EQ:Owner",
            "source":"drop_custom_rename_CaseHistoryFields"
        }
    },
    "Join_Append_Knowledge__kav_dataCategory":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "ParentId"
            ],
            "left":"Append_Knowledge_kav",
            "left_key":[
                "Id"
            ],
            "right_select":[
                "DataCategoryName",
                "DataCategoryGroupName"
            ],
            "right":"Extract_Knowledge_DataCategory",
            "relationship":"DataCategory",
            "operation":"LookupMultiValue"
        }
    },
    "Join_ServicePresenceUserStatus":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"Join_ServicePresenceUser",
            "left_key":[
                "ServicePresenceStatusId"
            ],
            "right_select":[
                "MasterLabel"
            ],
            "right":"Extract_ServicePresenceStatus",
            "relationship":"ServicePresenceStatusId"
        }
    },
    "Join_OpportunityRecordTypeAccountCase":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "AccountId"
            ],
            "left":"Join_OpportunityRecordTypeAccount",
            "left_key":[
                "AccountId"
            ],
            "right_select":[
                "Id",
                "CaseNumber",
                "IsEscalated",
                "Priority"
            ],
            "right":"compute_CalculatedCaseDuration",
            "relationship":"Case"
        }
    },
    "Join_LiveChatTranscript_User":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"compute_LiveChatTranscript",
            "left_key":[
                "OwnerId"
            ],
            "right_select":[
                "Name"
            ],
            "right":"Extract_User",
            "relationship":"User"
        }
    },
    "Register_AgentWork":{
        "action":"sfdcRegister",
        "parameters":{
            "name":"ServiceOmniAgentWork",
            "alias":"<ServiceOmniAgentWork>",
            "source":"compute_AgentWorkCSAT",
            "folderid":"<folderId>"
        }
    },
    "Join_ActivityOwner":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"Append_TaskEvent",
            "left_key":[
                "OwnerId"
            ],
            "right_select":[
                "Name",
                "Id",
                "UserRoleId"
            ],
            "right":"Extract_User",
            "relationship":"Owner"
        }
    },
    "Add_Fields_To_Queue":{
        "action":"computeExpression",
        "parameters":{
            "source":"Extract_Queue",
            "computedFields":[
                {
                    "name":"CallCenterId",
                    "saqlExpression":"\"000000000000000\"",
                    "label":"CallCenterId",
                    "type":"Text"
                },
                {
                    "name":"Type",
                    "saqlExpression":"\"Queue\"",
                    "label":"Type",
                    "type":"Text"
                },
                {
                    "name":"UserRoleId",
                    "saqlExpression":"\"000000000000000\"",
                    "label":"UserRoleId",
                    "type":"Text"
                }
            ],
            "mergeWithSource":true
        }
    },
    "compute_LiveChatTranscriptCSAT":{
        "action":"computeExpression",
        "parameters":{
            "source":"Join_LiveChatTranscript_Case",
            "mergeWithSource":true,
            "computedFields":[
                {
                    "name":"CSAT",
                    "saqlExpression":"case when 'CaseId' is null then -999 else 'Case.CSAT' end ",
                    "scale":0,
                    "type":"Numeric"
                }
            ]
        }
    },
    "Register_Opportunity":{
        "action":"sfdcRegister",
        "parameters":{
            "SFDCtoken":"SFDCtoken",
            "name":"ServiceOpportunities",
            "alias":"<ServiceOpportunity>",
            "source":"Join_OpportunityRecordTypeAccountCase",
            "folderid":"<folderId>"
        }
    },
    "Join_Append_Knowledge__ka_kav_dataCategory_ViewStat_VoteStat_User":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"Join_Append_Knowledge__ka_kav_dataCategory_ViewStat_VoteStat",
            "left_key":[
                "CreatedById"
            ],
            "right_select":[
                "Name"
            ],
            "right":"Extract_User",
            "relationship":"User"
        }
    },
    "Join_CaseArticleKnowledge_User_Case":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"Join_CaseArticleKnowledge_User",
            "left_key":[
                "CaseId"
            ],
            "right_select":[
                "Product_Family_KB__c",
                "Reason",
                "Status",
                "Type_of_Support__c",
                "Type"
            ],
            "right":"compute_CalculatedCaseDuration",
            "relationship":"Case"
        }
    },
    "Join_CaseArticleKnowledge_User_Case_Knowledge":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"Join_CaseArticleKnowledge_User_Case",
            "left_key":[
                "KnowledgeArticleId"
            ],
            "right_select":[
                "ArticleVersion.Title",
                "ArticleVersion.PublishStatus",
                "ArticleVersion.VersionNumber",
                "ArticleVersion.IsVisibleInApp",
                "ArticleVersion.IsVisibleInCsp",
                "ArticleVersion.IsVisibleInPkb",
                "ArticleVersion.IsVisibleInPrm",
                "ArticleVersion.DataCategory.DataCategoryName",
                "ArticleVersion.DataCategory.DataCategoryGroupName",
                "User.Name",
                "CreatedById"
            ],
            "right":"computeKnowledgeDraftStatusAndChannelField",
            "relationship":"Article"
        }
    },
    "computeKnowledgeDraftStatusAndChannelField":{
        "action":"computeExpression",
        "parameters":{
            "source":"Join_Append_Knowledge__ka_kav_dataCategory_ViewStat_VoteStat_User",
            "computedFields":[
                {
                    "name":"IsDraft",
                    "saqlExpression":"case when 'ArticleVersion.Id' is null then \"true\" else \"false\" end",
                    "label":"Is Draft",
                    "type":"Text"
                },
                {
                    "name":"ChannelList",
                    "saqlExpression":"case when ('ArticleVersion.IsVisibleInApp' == \"false\" && 'ArticleVersion.IsVisibleInPrm' == \"false\" && 'ArticleVersion.IsVisibleInCsp' == \"false\" && 'ArticleVersion.IsVisibleInPkb' == \"true\" ) then \"Public\" when ('ArticleVersion.IsVisibleInApp' == \"false\" && 'ArticleVersion.IsVisibleInPrm' == \"false\" && 'ArticleVersion.IsVisibleInCsp' == \"true\" && 'ArticleVersion.IsVisibleInPkb' == \"false\" ) then \"Customer\" when ('ArticleVersion.IsVisibleInApp' == \"false\" && 'ArticleVersion.IsVisibleInPrm' == \"false\" && 'ArticleVersion.IsVisibleInCsp' == \"true\" && 'ArticleVersion.IsVisibleInPkb' == \"true\" ) then \"Customer;Public\" when ('ArticleVersion.IsVisibleInApp' == \"false\" && 'ArticleVersion.IsVisibleInPrm' == \"true\" && 'ArticleVersion.IsVisibleInCsp' == \"false\" && 'ArticleVersion.IsVisibleInPkb' == \"false\" ) then \"Parter\" when ('ArticleVersion.IsVisibleInApp' == \"false\" && 'ArticleVersion.IsVisibleInPrm' == \"true\" && 'ArticleVersion.IsVisibleInCsp' == \"false\" && 'ArticleVersion.IsVisibleInPkb' == \"true\" ) then \"Parter;Public\" when ('ArticleVersion.IsVisibleInApp' == \"false\" && 'ArticleVersion.IsVisibleInPrm' == \"true\" && 'ArticleVersion.IsVisibleInCsp' == \"true\" && 'ArticleVersion.IsVisibleInPkb' == \"false\" ) then \"Parter;Customer\"    when ('ArticleVersion.IsVisibleInApp' == \"false\" && 'ArticleVersion.IsVisibleInPrm' == \"true\" && 'ArticleVersion.IsVisibleInCsp' == \"true\" && 'ArticleVersion.IsVisibleInPkb' == \"true\" ) then \"Parter;Customer;Public\" when ('ArticleVersion.IsVisibleInApp' == \"true\" && 'ArticleVersion.IsVisibleInPrm' == \"false\" && 'ArticleVersion.IsVisibleInCsp' == \"false\" && 'ArticleVersion.IsVisibleInPkb' == \"false\" ) then \"Internal\" when ('ArticleVersion.IsVisibleInApp' == \"true\" && 'ArticleVersion.IsVisibleInPrm' == \"false\" && 'ArticleVersion.IsVisibleInCsp' == \"false\" && 'ArticleVersion.IsVisibleInPkb' == \"true\" ) then \"Internal;Public\" when ('ArticleVersion.IsVisibleInApp' == \"true\" && 'ArticleVersion.IsVisibleInPrm' == \"false\" && 'ArticleVersion.IsVisibleInCsp' == \"true\" && 'ArticleVersion.IsVisibleInPkb' == \"false\" ) then \"Internal;Customer\" when ('ArticleVersion.IsVisibleInApp' == \"true\" && 'ArticleVersion.IsVisibleInPrm' == \"false\" && 'ArticleVersion.IsVisibleInCsp' == \"true\" && 'ArticleVersion.IsVisibleInPkb' == \"true\" ) then \"Internal;Customer;Public\" when ('ArticleVersion.IsVisibleInApp' == \"true\" && 'ArticleVersion.IsVisibleInPrm' == \"true\" && 'ArticleVersion.IsVisibleInCsp' == \"false\" && 'ArticleVersion.IsVisibleInPkb' == \"false\" ) then \"Internal;Parter\" when ('ArticleVersion.IsVisibleInApp' == \"true\" && 'ArticleVersion.IsVisibleInPrm' == \"true\" && 'ArticleVersion.IsVisibleInCsp' == \"false\" && 'ArticleVersion.IsVisibleInPkb' == \"true\" ) then \"Internal;Parter;Public\" when ('ArticleVersion.IsVisibleInApp' == \"true\" && 'ArticleVersion.IsVisibleInPrm' == \"true\" && 'ArticleVersion.IsVisibleInCsp' == \"true\" && 'ArticleVersion.IsVisibleInPkb' == \"false\" ) then \"Internal;Parter;Customer\" when ('ArticleVersion.IsVisibleInApp' == \"true\" && 'ArticleVersion.IsVisibleInPrm' == \"true\" && 'ArticleVersion.IsVisibleInCsp' == \"true\" && 'ArticleVersion.IsVisibleInPkb' == \"true\" ) then \"Internal;Parter;Customer;Public\" end",
                    "label":"Channel List",
                    "type":"Text"
                }
            ],
            "mergeWithSource":true
        }
    },
    "Join_Append_Knowledge__ka_kav_dataCategory_ViewStat_VoteStat":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "ParentId"
            ],
            "left":"Join_Append_Knowledge__ka_kav_dataCategory_ViewStat",
            "left_key":[
                "Id"
            ],
            "right_select":[
                "Channel",
                "NormalizedScore"
            ],
            "right":"drop_custom_rename_Knowledge_VoteStat",
            "relationship":"VoteStat"
        }
    },
    "Join_CaseArticleKnowledge_User":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"drop_custom_rename_CaseArticleKnowledge",
            "left_key":[
                "CreatedById"
            ],
            "right_select":[
                "Id",
                "Name"
            ],
            "right":"Extract_User",
            "relationship":"User"
        }
    },
    "Append_Queue_User":{
        "action":"append",
        "parameters":{
            "sources":[
                "Add_Fields_To_Queue",
                "Add_Fields_To_User"
            ]
        }
    },
    "compute_LiveChatTranscriptEvent_ChatBoundaries":{
        "action":"computeRelative",
        "parameters":{
            "partitionBy":[
                "LiveChatTranscriptId"
            ],
            "orderBy":[
                {
                    "name":"Time",
                    "direction":"asc"
                }
            ],
            "source":"Join_LiveChatTranscriptEvent_User",
            "computedFields":[
                {
                    "expression":{
                        "sourceField":"Time",
                        "default":"current()",
                        "offset":"next()"
                    },
                    "name":"TempAgentChatEndTime",
                    "description":"Temp Agent Chat End Time",
                    "label":"TempAgentChatEndTime"
                }
            ]
        }
    },
    "Join_AgentWorkUserGroupServiceChannelCase":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"Join_AgentWorkUserGroupServiceChannel",
            "left_key":[
                "WorkItemId"
            ],
            "right_select":[
                "Origin",
                "Reason",
                "Type",
                "IsClosed",
                "ClosedDate",
                "CreatedDate",
                "Type_of_Support__c",
                "Status",
                "Product_Family_KB__c",
                "Priority",
                "CaseNumber",
                "Account.Name",
                "Account.Id",
                "Duration__c",
                "CSAT__c",
                "Role.Name",
                "CurrentDate",
                "CSAT",
                "RecordType.Name"
            ],
            "right":"Join_CaseAccountContactUserUserRoleRecordType",
            "relationship":"Case"
        }
    },
    "Extract_Knowledge_DataCategory":{
        "action":"sfdcDigest",
        "parameters":{
            "fields":[
                {
                    "name":"DataCategoryGroupName__c"
                },
                {
                    "name":"DataCategoryName__c"
                },
                {
                    "name":"ParentId__c"
                }
            ],
            "object":"KCSArticle_DataCategorySelection__c"
        }
    },

    "rename_Knowledge_DataCategory":{
        "action":"computeExpression",
        "parameters":{
            "mergeWithSource":true,
            "computedFields":[
                {
                    "name":"ParentId",
                    "type":"Text",
                    "saqlExpression":"ParentId__c",
                    "default":""
                },
                {
                    "name":"DataCategoryGroupName",
                    "type":"Text",
                    "saqlExpression":"DataCategoryGroupName__c",
                    "default":""
                },
                {
                    "name":"DataCategoryName",
                    "type":"Text",
                    "saqlExpression":"DataCategoryName__c",
                    "default":""
                }
            ],
            "source":"Extract_Knowledge_DataCategory"
        }
    },
    "drop_custom_rename_Knowledge_DataCategory":{
        "action":"sliceDataset",
        "parameters":{
            "source":"rename_Knowledge_DataCategory",
            "mode":"drop",
            "fields":[
                {
                    "name":"DataCategoryGroupName__c"
                },
                {
                    "name":"DataCategoryName__c"
                },
                {
                    "name":"NormalizedScore__c"
                }
            ]
        }
    },
    "Join_Append_Knowledge__ka_kav_dataCategory":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "KnowledgeArticleId"
            ],
            "left":"drop_custom_rename_Knowledge_ka",
            "left_key":[
                "Id"
            ],
            "right_select":[
                "CreatedById",
                "CreatedDate",
                "OwnerId",
                "PublishStatus",
                "IsLatestVersion",
                "IsVisibleInApp",
                "IsVisibleInCsp",
                "IsVisibleInPkb",
                "IsVisibleInPrm",
                "Title",
                "VersionNumber",
                "Id",
                "DataCategory.DataCategoryName",
                "DataCategory.DataCategoryGroupName"
            ],
            "right":"Join_Append_Knowledge__kav_dataCategory",
            "relationship":"ArticleVersion"
        }
    },
    "compute_CaseHistory_CurrentDate":{
        "action":"computeExpression",
        "parameters":{
            "source":"Join_CaseHistory_Case",
            "computedFields":[
                {
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "name":"CurrentDate",
                    "saqlExpression":"now()",
                    "label":"CurrentDate",
                    "type":"Date"
                },
                {
                    "name":"ValidToWithNow",
                    "saqlExpression":"case when 'ValidToDate' == \"3000-10-10T10:10:10.100Z\" then now() else toDate('ValidToDate', \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\") end",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "type":"Date"
                }
            ],
            "mergeWithSource":true
        }
    },
    "Join_AgentWorkUserGroupServiceChannel":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"Join_AgentWorkUserGroup",
            "left_key":[
                "ServiceChannelId"
            ],
            "right_select":[
                "DeveloperName",
                "MasterLabel"
            ],
            "right":"Extract_ServiceChannel",
            "relationship":"ServiceChannelId"
        }
    },
    "Register_UserServicePresence":{
        "action":"sfdcRegister",
        "parameters":{
            "name":"ServiceOmniUserPresence",
            "alias":"<ServiceOmniUserPresence>",
            "source":"Join_ServicePresenceUserStatus",
            "folderid":"<folderId>"
        }
    },
    "compute_CalculatedCaseDuration":{
        "action":"computeExpression",
        "parameters":{
            "source":"compute_CurrentDateForCase",
            "computedFields":[
                {
                    "defaultValue":"0",
                    "precision":18,
                    "name":"DurationCalculatedField",
                    "saqlExpression":"case  when ('IsClosed' == \"true\") then ('ClosedDate_sec_epoch' - 'CreatedDate_sec_epoch')/86400   else ('CurrentDate_sec_epoch' - 'CreatedDate_sec_epoch')/86400  end",
                    "scale":2,
                    "label":"Case Duration",
                    "type":"Numeric"
                }
            ],
            "mergeWithSource":true
        }
    },
    "compute_CaseHistory_DatePrevious_Status":{
        "action":"computeRelative",
        "parameters":{
            "partitionBy":[
                "CaseId"
            ],
            "orderBy":[
                {
                    "name":"CreatedDate",
                    "direction":"asc"
                }
            ],
            "source":"Filter_CaseHistoryStatus",
            "computedFields":[
                {
                    "expression":{
                        "sourceField":"CreatedDate",
                        "default":"3000-10-10T10:10:10.100Z",
                        "offset":"next()"
                    },
                    "name":"ValidToDate",
                    "description":"ValidToDate",
                    "label":"ValidToDate"
                },
                {
                    "expression":{
                        "sourceField":"CreatedDate",
                        "default":"current()",
                        "offset":"current()"
                    },
                    "name":"ValidFromDate",
                    "description":"ValidFromDate",
                    "label":"ValidFromDate"
                },
                {
                    "expression":{
                        "sourceField":"CreatedDate",
                        "default":null,
                        "offset":"next()"
                    },
                    "name":"CreatedDateNext",
                    "description":"Next Created Date",
                    "label":"Next CreatedDate"
                },
                {
                    "expression":{
                        "sourceField":"CreatedDate",
                        "default":null,
                        "offset":"previous()"
                    },
                    "name":"CreatedDatePrev",
                    "description":"Previous Created Date",
                    "label":"Previous CreatedDate"
                }
            ]
        }
    },
    "Extract_LiveChatTranscript":{
        "action":"sfdcDigest",
        "parameters":{
            "fields":[
                {
                    "name":"Abandoned__c"
                },
                {
                    "name":"AverageResponseTimeOperator__c"
                },
                {
                    "name":"MaxResponseTimeOperator__c"
                },
                {
                    "name":"OperatorMessageCount__c"
                },
                {
                    "name":"Body__c"
                },
                {
                    "name":"Browser__c"
                },
                {
                    "name":"BrowserLanguage__c"
                },
                {
                    "name":"CaseId__c"
                },
                {
                    "name":"ChatDuration__c"
                },
                {
                    "name":"ChatKey__c"
                },
                {
                    "name":"CreatedDate__c"
                },
                {
                    "name":"IsDeleted"
                },
                {
                    "name":"EndTime__c"
                },
                {
                    "name":"EndedBy__c"
                },
                {
                    "name":"LastModifiedDate"
                },
                {
                    "name":"LastReferencedDate__c"
                },
                {
                    "name":"LastViewedDate__c"
                },
                {
                    "name":"LiveChatButtonId__c"
                },
                {
                    "name":"Id"
                },
                {
                    "name":"Name"
                },
                {
                    "name":"Location__c"
                },
                {
                    "name":"OwnerId__c"
                },
                {
                    "name":"Platform__c"
                },
                {
                    "name":"ReferrerUri__c"
                },
                {
                    "name":"RequestTime__c"
                },
                {
                    "name":"ScreenResolution__c"
                },
                {
                    "name":"StartTime__c"
                },
                {
                    "name":"Status__c"
                },
                {
                    "name":"SupervisorTranscriptBody__c"
                },
                {
                    "name":"SystemModstamp"
                },
                {
                    "name":"UserAgent__c"
                },
                {
                    "name":"AverageResponseTimeVisitor__c"
                },
                {
                    "name":"IpAddress__c"
                },
                {
                    "name":"MaxResponseTimeVisitor__c"
                },
                {
                    "name":"VisitorMessageCount__c"
                },
                {
                    "name":"WaitTime__c"
                }
            ],
            "object":"LiveChatTranscript__c"
        }
    },
    "rename_LiveChatTranscript":{
        "action":"computeExpression",
        "parameters":{
            "mergeWithSource":true,
            "computedFields":[
                {
                    "defaultValue":"0",
                    "precision":9,
                    "name":"Abandoned",
                    "saqlExpression":"Abandoned__c",
                    "scale":0,
                    "label":"Abandoned",
                    "type":"Numeric"
                },
                {
                    "defaultValue":"0",
                    "precision":9,
                    "name":"AverageResponseTimeOperator",
                    "saqlExpression":"AverageResponseTimeOperator__c",
                    "scale":0,
                    "label":"AverageResponseTimeOperator",
                    "type":"Numeric"
                },
                {
                    "defaultValue":"0",
                    "precision":9,
                    "name":"MaxResponseTimeOperator",
                    "saqlExpression":"MaxResponseTimeOperator__c",
                    "scale":0,
                    "label":"MaxResponseTimeOperator",
                    "type":"Numeric"
                },
                {
                    "defaultValue":"0",
                    "precision":9,
                    "name":"OperatorMessageCount",
                    "saqlExpression":"OperatorMessageCount__c",
                    "scale":0,
                    "label":"OperatorMessageCount",
                    "type":"Numeric"
                },
                {
                    "name":"Body",
                    "type":"Text",
                    "saqlExpression":"Body__c",
                    "default":""
                },
                {
                    "name":"Browser",
                    "type":"Text",
                    "saqlExpression":"Browser__c",
                    "default":""
                },
                {
                    "name":"BrowserLanguage",
                    "type":"Text",
                    "saqlExpression":"BrowserLanguage__c",
                    "default":""
                },
                {
                    "name":"CaseId",
                    "type":"Text",
                    "saqlExpression":"CaseId__c",
                    "default":""
                },
                {
                    "name":"OwnerId",
                    "type":"Text",
                    "saqlExpression":"OwnerId__c",
                    "default":""
                },
                {
                    "name":"ChatKey",
                    "type":"Text",
                    "saqlExpression":"ChatKey__c",
                    "default":""
                },
                {
                    "defaultValue":"0",
                    "precision":9,
                    "name":"ChatDuration",
                    "saqlExpression":"ChatDuration__c",
                    "scale":0,
                    "label":"OperatorMessageCount",
                    "type":"Numeric"
                },
                {
                    "name":"EndedBy",
                    "type":"Text",
                    "saqlExpression":"EndedBy__c",
                    "default":""
                },
                {
                    "name":"LiveChatButtonId",
                    "type":"Text",
                    "saqlExpression":"LiveChatButtonId__c",
                    "default":""
                },
                {
                    "name":"Location__c",
                    "type":"Text",
                    "saqlExpression":"Location",
                    "default":""
                },
                {
                    "name":"Platform",
                    "type":"Text",
                    "saqlExpression":"Platform__c",
                    "default":""
                },
                {
                    "name":"ReferrerUri",
                    "type":"Text",
                    "saqlExpression":"ReferrerUri__c",
                    "default":""
                },
                {
                    "name":"ScreenResolution",
                    "type":"Text",
                    "saqlExpression":"ScreenResolution__c",
                    "default":""
                },
                {
                    "name":"RequestTime",
                    "type":"Date",
                    "label":"RequestTime",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(RequestTime__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                },
                {
                    "name":"Status",
                    "type":"Text",
                    "saqlExpression":"Status__c",
                    "default":""
                },
                {
                    "name":"SupervisorTranscriptBody",
                    "type":"Text",
                    "saqlExpression":"SupervisorTranscriptBody__c",
                    "default":""
                },
                {
                    "name":"UserAgent",
                    "type":"Text",
                    "saqlExpression":"UserAgent__c",
                    "default":""
                },
                {
                    "name":"IpAddress",
                    "type":"Text",
                    "saqlExpression":"IpAddress__c",
                    "default":""
                },
                {
                    "defaultValue":"0",
                    "precision":9,
                    "name":"AverageResponseTimeVisitor",
                    "saqlExpression":"AverageResponseTimeVisitor__c",
                    "scale":0,
                    "label":"AverageResponseTimeVisitor",
                    "type":"Numeric"
                },
                {
                    "defaultValue":"0",
                    "precision":9,
                    "name":"MaxResponseTimeVisitor",
                    "saqlExpression":"MaxResponseTimeVisitor__c",
                    "scale":0,
                    "label":"MaxResponseTimeVisitor",
                    "type":"Numeric"
                },
                {
                    "defaultValue":"0",
                    "precision":9,
                    "name":"VisitorMessageCount",
                    "saqlExpression":"VisitorMessageCount__c",
                    "scale":0,
                    "label":"VisitorMessageCount",
                    "type":"Numeric"
                },
                {
                    "defaultValue":"0",
                    "precision":9,
                    "name":"WaitTime",
                    "saqlExpression":"WaitTime__c",
                    "scale":0,
                    "label":"WaitTime",
                    "type":"Numeric"
                },
                {
                    "name":"EndTime",
                    "type":"Date",
                    "label":"EndTime",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(EndTime__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                },
                {
                    "name":"CreatedDate",
                    "type":"Date",
                    "label":"CreatedDate",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(CreatedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                },
                {
                    "name":"LastReferencedDate",
                    "type":"Date",
                    "label":"LastReferencedDate",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(LastReferencedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                },
                {
                    "name":"LastViewedDate",
                    "type":"Date",
                    "label":"LastViewedDate",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(LastViewedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                },
                {
                    "name":"StartTime",
                    "type":"Date",
                    "label":"StartTime",
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "saqlExpression":"toDate(StartTime__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")",
                    "default":""
                }
            ],
            "source":"Extract_LiveChatTranscript"
        }
    },
    "drop_custom_rename_LiveChatTranscript":{
        "action":"sliceDataset",
        "parameters":{
            "source":"rename_LiveChatTranscript",
            "mode":"drop",
            "fields":[
                {
                    "name":"Abandoned__c"
                },
                {
                    "name":"AverageResponseTimeOperator__c"
                },
                {
                    "name":"MaxResponseTimeOperator__c"
                },
                {
                    "name":"OperatorMessageCount__c"
                },
                {
                    "name":"Body__c"
                },
                {
                    "name":"Browser__c"
                },
                {
                    "name":"BrowserLanguage__c"
                },
                {
                    "name":"CaseId__c"
                },
                {
                    "name":"ChatDuration__c"
                },
                {
                    "name":"ChatKey__c"
                },
                {
                    "name":"EndedBy__c"
                },
                {
                    "name":"LiveChatButtonId__c"
                },
                {
                    "name":"Location__c"
                },
                {
                    "name":"Platform__c"
                },
                {
                    "name":"ReferrerUri__c"
                },
                {
                    "name":"ScreenResolution__c"
                },
                {
                    "name":"Status__c"
                },
                {
                    "name":"SupervisorTranscriptBody__c"
                },
                {
                    "name":"UserAgent__c"
                },
                {
                    "name":"AverageResponseTimeVisitor__c"
                },
                {
                    "name":"IpAddress__c"
                },
                {
                    "name":"MaxResponseTimeVisitor__c"
                },
                {
                    "name":"VisitorMessageCount__c"
                },
                {
                    "name":"WaitTime__c"
                },
                {
                    "name":"OwnerId__c"
                }
            ]
        }
    },
    "compute_LiveChatTranscript":{
        "action":"computeExpression",
        "parameters":{
            "source":"Join_LCTButton",
            "computedFields":[
                {
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "name":"StartTime_15Min",
                    "saqlExpression":"toDate(floor(StartTime_sec_epoch/900)*900)",
                    "label":"StartTime_15Min",
                    "type":"Date"
                }
            ],
            "mergeWithSource":true
        }
    },
    "Add_Fields_To_Task":{
        "action":"computeExpression",
        "parameters":{
            "source":"Extract_Task",
            "computedFields":[
                {
                    "format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                    "name":"EndDateTime",
                    "saqlExpression":"now()",
                    "label":"EndDateTime",
                    "type":"Date"
                },
                {
                    "name":"Type",
                    "saqlExpression":"\"Task\"",
                    "label":"Type",
                    "type":"Text"
                },
                {
                    "name":"EventSubtype",
                    "saqlExpression":"TaskSubtype",
                    "label":"EventSubtype",
                    "type":"Text"
                },
                {
                    "name":"ActivityType",
                    "saqlExpression":"TaskSubtype",
                    "label":"ActivityType",
                    "type":"Text"
                },
                {
                    "name":"ShowAs",
                    "saqlExpression":"\"Task\"",
                    "label":"ShowAs",
                    "type":"Text"
                },
                {
                    "defaultValue":"0",
                    "precision":8,
                    "name":"DurationInMinutes",
                    "saqlExpression":"0",
                    "scale":0,
                    "label":"DurationInMinutes",
                    "type":"Numeric"
                }
            ],
            "mergeWithSource":true
        }
    },
    "Join_AgentWorkUser":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"drop_custom_rename_AgentWork",
            "left_key":[
                "UserId"
            ],
            "right_select":[
                "Name"
            ],
            "right":"Extract_User",
            "relationship":"UserId"
        }
    },
    "Join_LCTButton":{
        "action":"augment",
        "parameters":{
            "right_key":[
                "Id"
            ],
            "left":"drop_custom_rename_LiveChatTranscript",
            "left_key":[
                "LiveChatButtonId"
            ],
            "right_select":[
                "MasterLabel",
                "CustomAgentName"
            ],
            "right":"Extract_LiveChatButton",
            "relationship":"LiveChatButton"
        }
    },
    "Filter_Activities":{
        "action":"filter",
        "parameters":{
            "filter":"IsActivity:EQ:Yes",
            "source":"Handle_Only_Activities"
        }
    },
    "Register_Case":{
        "action":"sfdcRegister",
        "parameters":{
            "SFDCtoken":"SFDCtoken",
            "name":"ServiceCase",
            "alias":"<ServiceCase>",
            "source":"Handle_Null_RecordType",
            "folderid":"<folderId>"
        }
    }
}